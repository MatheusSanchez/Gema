function blockade(){$("form").submit(function(){return $(this).submit(function(){return!1}),!0})}function flashMessage(){setTimeout(function(){$(".flash, .auth").css({top:"50px"}),$(".page").css({"margin-top":"105px"})},10),setTimeout(function(){$(".flash, .auth").css({top:"0px"}),$(".page").css({"margin-top":"75px"})},-1)}function ajaxHistory(){$("#table-paging a, th a").bind("click",function(t){t.preventDefault(),href=$(this).attr("href"),loadContent(href),history.pushState("",href,href)}),window.onpopstate=function(t){loadContent(location.pathname)}}function loadContent(t){$("#ajax").fadeIn(),$.ajax({url:t,dataType:"html",evalScripts:!0,success:function(t,n){$("#element").html(t),$("#ajax").fadeOut()},error:function(){$("#ajax").fadeOut()}}),ajaxHistory()}function tipsyTableImage(){$("td").each(function(){$(this).find("div").tipsy({title:function(){return $(this).find("span").text()},gravity:"s"})})}function tipsyLevel(){$("#problem-menu").find("h3").tipsy({title:function(){return $("#problem-menu").find("span").text()},gravity:"s"})}function tipsyBadges(){$(".pb-badges").find("li").tipsy({title:function(){return $(this).find("span").text()},gravity:"s"})}function tipsyFriends(){$(".pb-friends").find("li").tipsy({title:function(){return $(this).find("span").text()},gravity:"s"})}function activateButtons(){$("#register, #big-buttons li, #category-list li, .v-menu li").each(function(){$(this).find("a").length&&$(this).css("cursor","pointer")}),$("#register, #big-buttons li, #category-list li, .v-menu li").click(function(){if($(this).find("a").length){var t=$(this).find("a").attr("href");"_blank"==$(this).find("a").attr("target")?window.open(t):window.location=t}return!1})}function showAchievement(){$("a#inline").fancybox(),$("a#inline").trigger("click")}function fadeInAjax(){$("#ajax").fadeIn()}function fadeOutAjax(){$("#ajax").fadeOut(),clickButtons()}function drawMap(){""==coordinates?navigator.geolocation?navigator.geolocation.getCurrentPosition(mapSuccess,mapError):mapError("Unfortunatelly your browser does not support GeoLocation."):$("#google-map").append('<img src="//maps.google.com/maps/api/staticmap?center='+coordinates+"&zoom=16&markers=size:medium|color:purple|"+coordinates+"&path=color:0x0000FF80|weight:2|"+coordinates+'&size=350x280&sensor=false" />')}function mapSuccess(t){var n=t.coords.latitude+","+t.coords.longitude;$("#google-map").append('<img src="//maps.google.com/maps/api/staticmap?center='+n+"&zoom=16&markers=size:medium|color:purple|"+n+"&path=color:0x0000FF80|weight:2|"+n+'&size=336x270&sensor=false" />'),$("#UserCoordinates").val(n)}function mapError(t){}function likeForum(){var t;$(".likes").hover(function(){t=$(this).clone().text(),$(this).text("+1")},function(){$(this).text(t)})}$(document).ready(function(){activateButtons(),tipsyLevel(),tipsyBadges(),tipsyFriends(),blockade(),($(".flash").length||$(".auth").length)&&flashMessage(),$("#google-map").length&&drawMap(),$("a#inline").length&&showAchievement(),$(".likes").length&&likeForum(),$(".tipsy-table").length&&tipsyTableImage()});